# Some key scenarios that can expose Apollo vulnerabilities generated by AS-Fuzz and baselines

We divide the detected critical scenarios into two categories. One is the critical scenario that can cause Baidu Apollo
to get stuck for a long time and fail to complete the task on time. We define the ID of this type of scenario with S as
the beginning. The criterion for these scenarios is that Baidu Apollo stops for more than 60 seconds at a time during
the execution of the autonomous driving task. The other is the scenario that causes Baidu Apollo to collide with other
vehicles or road traffic facilities. The ID of this type of scenario starts with C.

These scenarios are not all discovered by AS-Fuzzer. Some of them are our reproduction of Drivefuzz method, and some are
Random method. Specifically, they are as follows.

|           | ID                                                                                                   |
|-----------|------------------------------------------------------------------------------------------------------|
| Commom    | S-1, S-2, S-3, S-4, S-11, S-12, S-15, S-16, C-1, C-8, C-11                                           |
| Random    | C-15, S-21, S-22                                                                                     |
| Drivefuzz | S-18, S-19, S-20, C-14                                                                               |
| AS-Fuzzer | S-5, S-6, S-7, S-8, S-9, S-10, S-13, S-14, S-17, C-2, C-3, C-4, C-5, C-6, C-7, C-9, C-10, C-12, C-13 |

The Common line indicates that these scenarios may appear in more than two methods, rather than being unique to a
certain method.

Next, we begin to describe each scenario.

## Scenarios

### 1. Collision Scenarios

#### C-1: Collision at infrastructor, cause of Oversteering.

![result_gifs/C-1.gif](result_gifs/C-1.gif)

#### C-2: Collision, Dangerous parking at intersection.

![result_gifs/C-2.gif](result_gifs/C-2.gif)

#### C-3: Collision, Dangerous overtaking,Not being decisive enough in overtaking, occupying the opposite lane for a long time to overtake, resulting in a collision.

![result_gifs/C-3.gif](result_gifs/C-3.gif)

#### C-4: Collision, Udetection of bike

![result_gifs/C-4.gif](result_gifs/C-4.gif)

#### C-5: Collision,Failure to return to the driving lane in time after overtaking.

![result_gifs/C-5.gif](result_gifs/C-5.gif)

#### C-6: Collision, When the vehicle in the opposite lane starts to turn around and is about to reach the ADS driving lane, the ADS still attempts to pass.

![result_gifs/C-6.gif](result_gifs/C-6.gif)

#### C-7: Collision, When the conditions for overtaking are not met, the driver fails to return to the driving lane in time after changing lanes.

![result_gifs/C-7.gif](result_gifs/C-7.gif)
![result_gifs/C-7-2.gif](result_gifs/C-7-2.gif)

#### C-8: Collision, The Planning module crashes when the vehicle reaches a certain position and the vehicle loses control.

![result_gifs/C-8.gif](result_gifs/C-8.gif)

#### C-9: Collision,Failing to take emergency braking measures in time when facing a vehicle that has already cut in line.

![result_gifs/C-9.gif](result_gifs/C-9.gif)

#### C-10: Collision, Unable to detect slow moving obstacles, probably caused by a parameter setting in the prediction layer, which was mentioned by previous work.

![result_gifs/C-10.gif](result_gifs/C-10.gif)

#### C-11: Collision, ADS does not leave a safe distance before the vehicle in front completes the lane change.

![result_gifs/C-11.gif](result_gifs/C-11.gif)

#### C-12: Collision, when changing lanes, if there is a vehicle starting in the target lane but ADS does not maintain a safe distance.

![result_gifs/C-12.gif](result_gifs/C-12.gif)

#### C-13: Collision,Failing to take emergency evasive action in time when facing a starting vehicle.

![result_gifs/C-13.gif](result_gifs/C-13.gif)

#### C-14: Collision, When there are stationary vehicles near the destination, ADS has difficulty choosing a parking location and may make incorrect decisions.

![result_gifs/C-14.gif](result_gifs/C-14.gif)

#### C-15: Collision, Turn right without yielding.

![result_gifs/C-15.gif](result_gifs/C-15.gif)

### 2. Stuck Scenarios

#### S-1: Stuck at junction, Probably because of a map error.

![result_gifs/S-1.gif](result_gifs/S-1.gif)

#### S-2: Stuck at curve

![result_gifs/S-2.gif](result_gifs/S-2.gif)

#### S-3: Stuck, When facing a stationary vehicle, you have the conditions to overtake but do not do so.

![result_gifs/S-3.gif](result_gifs/S-3.gif)
![result_gifs/S-3-2.gif](result_gifs/S-3-2.gif)

#### S-4: Stuck, Oversteering resulting in driving in the oncoming lane and not yielding to oncoming vehicles.

![result_gifs/S-4.gif](result_gifs/S-4.gif)

#### S-5: Stuck, During overtaking, if the vehicle ahead leaves, the ADS vehicle will stop in the middle of the road and no longer operate.

![result_gifs/S-5.gif](result_gifs/S-5.gif)

#### S-6: Stuck, During overtaking, when a vehicle started in the opposite lane, ADS failed to give way in time.

![result_gifs/S-6-1.gif](result_gifs/S-6-1.gif)
![result_gifs/S-6-2.gif](result_gifs/S-6-2.gif)

#### S-7: Stuck, When trying to overtake a U-turn vehicle, ADS did not give the other vehicle room to move.

![result_gifs/S-7.gif](result_gifs/S-7.gif)

#### S-8: Stuck, When the conditions for overtaking are not met, the driver fails to return to the driving lane in time after changing lanes.

![result_gifs/S-8.gif](result_gifs/S-8.gif)

#### S-9: Trying to overtake on the sidewalk

![result_gifs/S-9.gif](result_gifs/S-9.gif)

#### S-10: Stuck, ADS encounters traffic congestion when changing lanes. After the congestion is relieved, ADS will no longer perform any operations.

![result_gifs/S-10.gif](result_gifs/S-10.gif)

#### S-11: Stuck, When ADS is changing lanes to the left, if the NPC vehicle on the left tries to change lanes to the right, the two vehicles are waiting for each other and get stuck.

![result_gifs/S-11.gif](result_gifs/S-11.gif)

#### S-12: Stuck, Oversteering resulting in driving in non-driving lane.

![result_gifs/S-12.gif](result_gifs/S-12.gif)

#### S-13: Stuck, When an ADS vehicle attempts to change lanes to the right-turn lane and then turn right, if there is an obstacle in front of the right-turn lane, even if the right-turn route is not completely blocked, ADS still has difficulty making a right-turn decision and stays in the middle of the road.

![result_gifs/S-13.gif](result_gifs/S-13.gif)

#### S-14: Stuck,When ADS turns left at an intersection, if there is a stationary vehicle in the lane after ADS turning left, ADS will try to drive directly into the opposite lane even if the lane is a double solid line.

![result_gifs/S-14.gif](result_gifs/S-14.gif)

#### S-15: Stuck ,ADS understeers and causes crossing of double yellow lines, and then stops making driving decisions.

![result_gifs/S-15.gif](result_gifs/S-15.gif)

#### S-16: Stuck, Taking too long (over 60s) to yield to pedestrians, even if they have not yet reached the crosswalk.

![result_gifs/S-16.gif](result_gifs/S-16.gif)
![result_gifs/S-16-2.gif](result_gifs/S-16-2.gif)

#### S-17: Stuck, When ADS encounters a left-turning vehicle at an intersection, it will yield to the oncoming vehicle, even if the ADS vehicle has a higher right of way.

![result_gifs/S-17.gif](result_gifs/S-17.gif)

#### S-18: Stuck, Planning crashed when a vehicle skids in a puddle.

![result_gifs/S-18.gif](result_gifs/S-18.gif)

#### S-19: Stuck, When there are stationary vehicles near the destination, ADS has difficulty choosing a parking location and may make incorrect decisions.

![result_gifs/S-19.gif](result_gifs/S-19.gif)

#### S-20: Stuck, Unable to avoid pedestrians standing still in the middle of the road.

![result_gifs/S-20.gif](result_gifs/S-20.gif)

#### S-21: Stuck, unable to overtake two stationary vehicles in a row.

![result_gifs/S-21.gif](result_gifs/S-21.gif)

#### S-22: Stuck, When ADS attempts to change lanes to the left on a curve, if another vehicle forcibly cuts in and overtakes it, the planning module will exit and stop making decisions.

![result_gifs/S-22.gif](result_gifs/S-22.gif)


